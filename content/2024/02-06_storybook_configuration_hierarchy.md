
#storybook #test

---
aliases: (Storybook) 스토리 계층 구조 설정하기
created: 2024-02-06 13:54 
last-updated: 2024-02-06 17:01

---

> based on 'Storybook v7.x'

# Storybook configuration - story hierarchy


각각의 Story는 다음과 같은 계층으로 이루어져있다.

![naming-hierarchy-sidebar-anatomy](https://storybook.js.org/056e66376330392b5bcc10deb45814b2/naming-hierarchy-sidebar-anatomy.png)

그리고 각 계층에 대한 설명을 [공식 문서](https://storybook.js.org/docs/writing-stories/naming-components-and-hierarchy#structure-and-hierarchy)에서는 다음과 같이 설명하고 있다.
- **Category**: The top-level grouping of stories and documentation pages generated by Storybook
- **Folder**: A mid-level organizational unit that groups components and stories in the sidebar, representing a feature or section of your application
- **Component**: A low-level organizational unit representing the component that the story is testing
- **Docs**: The automatically generated [documentation page](https://storybook.js.org/docs/writing-docs/autodocs) for the component
- **Story**: The individual story testing a specific component state


## Grouping and Naming

일반적으로 다음과 같은 구조로 컴포넌트와 각 페이지가 구성이 되고, 작성된 story 내부에 `title`을 별도로 정의하지 않으면, 해당 컴포넌트가 위치한 경로에 story가 위치하게 된다.
```bash
src
- componenets
- pages
```

- story 작성 예시
```typescript
// Replace your-framework with the name of your framework
import type { Meta, StoryObj } from '@storybook/your-framework';

import { Foo } from './Foo';

const meta: Meta<typeof Foo> = {
  /* 👇 The title prop is optional.
   * See https://storybook.js.org/docs/configure/#configure-story-loading
   * to learn how to generate automatic titles
   */
  title: 'OtherFoo/Bar',
  component: Foo,
  id: 'Foo/Bar', // Or 'foo-bar' if you prefer
};

export default meta;
type Story = StoryObj<typeof Foo>;

export const Baz: Story = {
  name: 'Insert name here',
};
```

### Configure title with titlePrefix

만약, category를 별도로 지정하고 싶다면...다음과 같이 별도의 이름을 정의할 수 있다.
```typescript
import type { StorybookConfig } from '@storybook/react-webpack5';

const config: StorybookConfig = {
   stories: [
     { 
       dir: 'components', 
       titlePrefix: 'Design System',
     },
     {
       dir: 'pages',
       titlePrefix: 'Pages',
     },
   ].map((item) => ({
     // 👇 Sets the directory containing your stories
     directory: `../src/${item.dir}`,
     // 👇 Storybook will load all files that match this glob
     files: '**/*.stories.@(js|jsx|ts|tsx|mdx)',
     // 👇 Used when generating automatic titles for your stories
     titlePrefix: item.titlePrefix,
   }))
}

 export default config;
 ```


위와 같이 별도의 `titlePrefix`를 정의하게 되면 스토리 계층은 각각의 `titlePrefix` 하위에 구성되는 형태이다.

예를 들면...다음과 같이 설정된다.

- title을 정의하지 않은 경우

```typescript
// src/components/button/index.stories.tsx

const meta: Meta<typeof Button> = {
  // --> Storybook path: Design System/Button
  component: Button,
};
```

- title을 정의한 경우

```typescript
// src/components/button/index.stories.tsx

const meta: Meta<typeof Button> = {
  // --> Storybook path: Design System/CustomButton
  title: 'CustomButton',
  component: Button,
};
```

